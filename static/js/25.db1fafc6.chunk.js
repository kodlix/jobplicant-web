(this["webpackJsonpjobplicant-web"]=this["webpackJsonpjobplicant-web"]||[]).push([[25],{575:function(e,t,c){},978:function(e,t,c){"use strict";c.r(t);var a=c(2),i=c(5),s=c(0),r=c(113),n=c(114),l=c(124),d=c(22),o=c(187),p=c(46),j=c(243),u=c(159),b=c(122),m=c(158),v=c(10),O=function(){var e,t,c=Object(d.d)(),O=Object(d.e)((function(e){return e.admin.adminLoading})),h=Object(d.e)((function(e){return e.admin.serviceGroups})),g=Object(a.useState)(1),x=Object(r.a)(g,2),f=x[0],N=x[1],S=Object(a.useState)(10),G=Object(r.a)(S,2),y=G[0],C=G[1],w=Object(a.useState)(""),I=Object(r.a)(w,2),k=I[0],D=I[1],L=Object(a.useState)({}),F=Object(r.a)(L,2),P=F[0],E=F[1],q=Object(a.useState)(0),V=Object(r.a)(q,2),M=V[0],A=V[1],B=Object(a.useState)(""),H=Object(r.a)(B,2),J=H[0],K=H[1],R=Object(l.a)({mode:"onChange",reValidateMode:"onChange"}),T=R.register,U=R.handleSubmit,z=R.setValue,Q=R.formState.errors,W=R.clearErrors;Object(a.useEffect)((function(){c(Object(p.o)(f,y,"loadServiceGroups",k))}),[]),Object(a.useEffect)((function(){O||K(null)}),[O]),Object(a.useEffect)((function(){var e,t,c;A(((null===h||void 0===h||null===(e=h.meta)||void 0===e?void 0:e.page)-1)*(null===h||void 0===h||null===(t=h.meta)||void 0===t?void 0:t.limit)),N(null===h||void 0===h||null===(c=h.meta)||void 0===c?void 0:c.page)}),[h]);var X=function(e){N(e.page+1),A(e.first),C(e.rows),c(Object(p.o)(e.page+1,e.rows,"loadServiceGroups",k))},Y=function(e){E(Object(s.a)(Object(s.a)({},P),{},Object(i.a)({},e.target.name,e.target.value))),z(e.target.name,e.target.value,{shouldValidate:!0})},Z=function(){c(Object(p.o)(f,y,"searchServiceGroups",k))},$=Object(v.jsxs)("div",{className:"table-header",children:[Object(v.jsx)("span",{children:"List of Service Groups"}),Object(v.jsxs)("form",{className:"d-flex align-items-baseline",children:[Object(v.jsxs)("div",{className:"p-input-icon-right searchInput-container-contact",children:[Object(v.jsx)(b.a,{className:"p-mr-2 p-pr-5 contact-searchInput",placeholder:"Search all service groups",value:k,onChange:function(e){return D(e.currentTarget.value)}}),k&&"searchServiceGroups"!==O&&Object(v.jsx)("i",{className:"pi pi-times p-mr-2",onClick:function(){D(""),c(Object(p.o)(f,y,"loadServiceGroups",""))},name:"clear"})]}),Object(v.jsx)(n.a,{onClick:Z,type:"submit",icon:"pi pi-search",className:"p-px-1 p-pt-1 p-pb-2",loading:"searchServiceGroups"===O})]})]}),_=function(e){return Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{className:"pi pi-pencil p-pr-3",onClick:function(){return t=e,c=e.id,W("serviceGroup"),E(Object(s.a)(Object(s.a)({},P),{},{id:c,name:t.name,description:t.description})),z("serviceGroupName",t.name),void z("serviceGroupDescription",t.description);var t,c}}),J!==e.id&&Object(v.jsx)("i",{className:"pi pi-trash",onClick:function(){return t=e.id,a=e.name,void(window.confirm('Do you want to delete the service group "'.concat(a,'"?'))&&t&&(K(t),P.id===t&&E(Object(s.a)(Object(s.a)({},P),{},{id:null})),c(Object(p.j)(t,"deleteServiceGroup",k))));var t,a}}),J===e.id&&Object(v.jsx)("i",{className:"pi pi-spinner pi-spin"})]})};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"p-grid p-mx-lg-0 grid-margin p-py-1 p-mt-2",children:[Object(v.jsx)("div",{className:"p-col-12 p-lg-8 p-p-lg-1 p-py-0",children:Object(v.jsx)("div",{className:"p-card h-100 p-mt-2",children:Object(v.jsx)("div",{className:"p-card-body p-p-0",children:function(e){var t;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(u.a,{value:e,header:$,className:"p-datatable-header-admin",dataKey:"id",rowHover:!0,children:[Object(v.jsx)(m.a,{field:"name",header:"Name"}),Object(v.jsx)(m.a,{field:"description",header:"Description"}),Object(v.jsx)(m.a,{header:"Actions",body:_})]}),Object(v.jsx)(j.a,{first:M,rows:y,totalRecords:null===h||void 0===h||null===(t=h.meta)||void 0===t?void 0:t.total,rowsPerPageOptions:[10,20,50],onPageChange:X})]})}(h.data)})})}),Object(v.jsx)("div",{className:"p-col-12 p-lg-4 p-p-lg-1",children:Object(v.jsxs)("div",{className:"p-card h-100 p-mt-2 text-center",children:[Object(v.jsx)("div",{className:"p-card-title p-px-3 p-pt-4",children:Object(v.jsx)("div",{className:"d-flex justify-content-end"})}),Object(v.jsx)("div",{className:"p-card-body svgimage p-pt-0",children:Object(v.jsxs)("form",{onSubmit:U((function(e){var t={name:e.serviceGroupName,description:e.serviceGroupDescription};P.id?c(Object(p.u)(t,P.id,"updateServiceGroup",k)):c(Object(p.d)(t,"createServiceGroup",k))})),children:[Object(v.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(v.jsxs)("div",{className:"p-field p-col-12 p-md-12 ",children:[Object(v.jsxs)("label",{className:"inputLabel",htmlFor:"serviceGroupName",children:["Service Group Name",Object(v.jsx)("span",{className:"text-danger p-ml-2 font-weight-bold",children:null===Q||void 0===Q||null===(e=Q.name)||void 0===e?void 0:e.message})]}),Object(v.jsx)(o.a,{id:"serviceGroupName",name:"serviceGroupName",inputLabel:"Service Group",register:T,inputChange:Y,value:P.name})]}),Object(v.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(v.jsxs)("label",{className:"inputLabel",htmlFor:"serviceGroupDescription",children:["Service Group Description",Object(v.jsx)("span",{className:"text-danger p-ml-2 font-weight-bold",children:null===Q||void 0===Q||null===(t=Q.description)||void 0===t?void 0:t.message})]}),Object(v.jsx)(o.a,{id:"serviceGroupDescription",name:"serviceGroupDescription",inputLabel:"Description",register:T,inputChange:Y,value:P.description})]})]}),Object(v.jsx)(n.a,{type:"submit",iconPos:"left",className:"p-py-1 submitButton-admin",label:P.id?"Update":"Create",loading:"updateServiceGroup"===O||"createServiceGroup"===O}),P.id&&Object(v.jsx)(n.a,{type:"button",iconPos:"left",label:"Cancel",disabled:"updateServiceGroup"===O||"createServiceGroup"===O,className:"p-ml-2 p-py-1",onClick:function(){E(Object(s.a)(Object(s.a)({},P),{},{id:null}))}})]})})]})})]})})},h=c(574),g=(c(575),function(){var e,t,c,O=Object(d.d)(),g=Object(d.e)((function(e){return e.admin.services})),x=Object(d.e)((function(e){return e.admin.adminLoading})),f=Object(d.e)((function(e){return e.admin.serviceGroupsForServiceComponent})),N=Object(a.useState)(1),S=Object(r.a)(N,2),G=S[0],y=S[1],C=Object(a.useState)({}),w=Object(r.a)(C,2),I=w[0],k=w[1],D=Object(a.useState)(10),L=Object(r.a)(D,2),F=L[0],P=L[1],E=Object(a.useState)(""),q=Object(r.a)(E,2),V=q[0],M=q[1],A=Object(a.useState)(0),B=Object(r.a)(A,2),H=B[0],J=B[1],K=Object(a.useState)(""),R=Object(r.a)(K,2),T=R[0],U=R[1],z=Object(a.useState)([]),Q=Object(r.a)(z,2),W=Q[0],X=Q[1],Y=Object(a.useState)(null),Z=Object(r.a)(Y,2),$=Z[0],_=Z[1],ee=Object(l.a)({mode:"onChange",reValidateMode:"onChange"}),te=ee.register,ce=ee.handleSubmit,ae=ee.setValue,ie=ee.formState.errors,se=ee.clearErrors,re=function(e){J(e.first),P(e.rows),O(Object(p.q)(e.page+1,e.rows,"loadServices",V))};Object(a.useEffect)((function(){"createServiceGroup"!==x&&"updateServiceGroup"!==x||(_(null),ae("groupId","")),x||U(null)}),[x]),Object(a.useEffect)((function(){O(Object(p.q)(G,F,"loadServices",V))}),[O]),Object(a.useEffect)((function(){var e,t,c;J(((null===g||void 0===g||null===(e=g.meta)||void 0===e?void 0:e.page)-1)*(null===g||void 0===g||null===(t=g.meta)||void 0===t?void 0:t.limit)),y(null===g||void 0===g||null===(c=g.meta)||void 0===c?void 0:c.page)}),[g]),Object(a.useEffect)((function(){var e,t=[];null===f||void 0===f||null===(e=f.data)||void 0===e||e.map((function(e){t.push({group:e.name,groupId:e.id})})),X(t)}),[f]);var ne=function(){O(Object(p.q)(G,F,"searchServices",V))},le=function(e){k(Object(s.a)(Object(s.a)({},I),{},Object(i.a)({},e.target.name,e.target.value))),ae(e.target.name,e.target.value,{shouldValidate:!0})},de=Object(v.jsxs)("div",{className:"table-header",children:[Object(v.jsx)("span",{children:"List of Services"}),Object(v.jsxs)("form",{className:"d-flex align-items-baseline",children:[Object(v.jsxs)("div",{className:"p-input-icon-right searchInput-container-contact",children:[Object(v.jsx)(b.a,{className:"p-mr-2 p-pr-5 contact-searchInput",placeholder:"Search all services",value:V,onChange:function(e){return M(e.currentTarget.value)}}),V&&"searchServices"!==x&&Object(v.jsx)("i",{className:"pi pi-times p-mr-2",onClick:function(){M(""),O(Object(p.q)(G,F,"loadServices",""))},name:"clear"})]}),Object(v.jsx)(n.a,{onClick:ne,type:"submit",icon:"pi pi-search",className:"p-px-1 p-pt-1 p-pb-2",loading:"searchServices"===x})]})]}),oe=function(e){return Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{className:"pi pi-pencil p-pr-3",onClick:function(){return t=e,c=e.id,se(),k(Object(s.a)(Object(s.a)({},I),{},{name:t.name,id:c,description:t.description,serviceGroup:{group:t.groupName,groupId:t.groupId}})),_({group:t.group,groupId:t.groupId}),ae("name",t.name),ae("description",t.description),void ae("groupId",t.groupId);var t,c}}),T!==e.id&&Object(v.jsx)("i",{className:"pi pi-trash",onClick:function(){return t=e.id,c=e.name,void(window.confirm('Do you want to delete the service "'.concat(c,'"?'))&&t&&(U(t),I.id===t&&k(Object(s.a)(Object(s.a)({},I),{},{id:null})),O(Object(p.i)(t))));var t,c}}),T===e.id&&Object(v.jsx)("i",{className:"pi pi-spinner pi-spin"})]})};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"p-grid p-mx-lg-0 grid-margin p-py-1",children:[Object(v.jsx)("div",{className:"p-col-12 p-lg-8 p-p-lg-1 p-py-0",children:Object(v.jsx)("div",{className:"p-card h-100 p-mt-2",children:Object(v.jsx)("div",{className:"p-card-body p-p-0",children:function(e){var t;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(u.a,{value:e,header:de,className:"p-datatable-header-admin",dataKey:"id",rowHover:!0,children:[Object(v.jsx)(m.a,{field:"name",header:"Name"}),Object(v.jsx)(m.a,{field:"description",header:"Description"}),Object(v.jsx)(m.a,{field:"group",header:"Service Group"}),Object(v.jsx)(m.a,{header:"Actions",body:oe})]}),Object(v.jsx)(j.a,{first:H,rows:F,totalRecords:null===g||void 0===g||null===(t=g.meta)||void 0===t?void 0:t.total,rowsPerPageOptions:[10,20,50],onPageChange:re})]})}(g.data)})})}),Object(v.jsx)("div",{className:"p-col-12 p-lg-4 p-p-lg-1",children:Object(v.jsxs)("div",{className:"p-card h-100 p-mt-2 text-center",children:[Object(v.jsx)("div",{className:"p-card-title p-px-10 p-pt-4",children:Object(v.jsx)("div",{className:"d-flex justify-content-end"})}),Object(v.jsx)("div",{className:"p-card-body svgimage p-pt-0",children:Object(v.jsxs)("form",{onSubmit:ce((function(e){e.groupId=$.groupId,I.id?O(Object(p.t)(e,I.id,"updateService",V)):O(Object(p.c)(e,"createService"))})),children:[Object(v.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(v.jsxs)("div",{className:"p-field p-col-12 p-md-12 ",children:[Object(v.jsxs)("label",{className:"inputLabel",htmlFor:"name",children:["Service Name",Object(v.jsx)("span",{className:"text-danger p-ml-2 font-weight-bold",children:null===ie||void 0===ie||null===(e=ie.name)||void 0===e?void 0:e.message})]}),Object(v.jsx)(o.a,{id:"name",name:"name",inputLabel:"Service",register:te,inputChange:le,value:I.name})]}),Object(v.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(v.jsxs)("label",{className:"inputLabel",htmlFor:"description",children:["Service Description",Object(v.jsx)("span",{className:"text-danger p-ml-2 font-weight-bold",children:null===ie||void 0===ie||null===(t=ie.description)||void 0===t?void 0:t.message})]}),Object(v.jsx)(o.a,{id:"description",name:"description",inputLabel:"Description",register:te,inputChange:le,value:I.description})]}),Object(v.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(v.jsxs)("label",{className:"inputLabel",htmlFor:"groupId",children:["Service Group",Object(v.jsx)("span",{className:"text-danger p-ml-2 font-weight-bold",children:null===ie||void 0===ie||null===(c=ie.groupId)||void 0===c?void 0:c.message})]}),Object(v.jsx)("div",{className:"p-mt-1 text-left",children:Object(v.jsx)(h.a,Object(s.a)(Object(s.a)({field:"group",dropdown:!0,forceSelection:!0,dropdownMode:"current",suggestions:W,value:$,placeholder:"Search and select a service group"},te("groupId",{required:" * Service Group is required"})),{},{onChange:function(e){_(e.value),ae(e.target.name,e.value,{shouldValidate:!0})},completeMethod:function(e){var t=e.query?e.query:"";O(Object(p.p)(1,10,"searchServiceGroupsForService",t))}}))})]})]}),Object(v.jsx)(n.a,{type:"submit",iconPos:"left",className:"submitButton-admin p-py-1",label:I.id?"Update":"Create",loading:"updateService"===x||"createService"===x}),I.id&&Object(v.jsx)(n.a,{type:"button",iconPos:"left",label:"Cancel",disabled:"updateService"===x||"createService"===x,className:"p-ml-2 p-py-1",onClick:function(){k(Object(s.a)(Object(s.a)({},I),{},{id:null}))}})]})})]})})]})})});t.default=function(){return Object(v.jsxs)("div",{className:"background-dashboard container",children:[Object(v.jsx)("div",{className:"background-top"}),Object(v.jsxs)("div",{className:"background-bottom",children:[Object(v.jsxs)("h4",{className:"p-pb-2 p-mb-2",children:[Object(v.jsx)("i",{className:"pi pi-chart-line p-pr-2"}),"Services & Service Groups"]}),Object(v.jsx)(g,{}),Object(v.jsx)(O,{})]})]})}}}]);
//# sourceMappingURL=25.db1fafc6.chunk.js.map